---
import { Plus } from "@lucide/astro";
import agents from "../../data.json";
import Layout from "../../layouts/Layout.astro";
import bg1 from "../../public/bg1.png";
import Agent from "../components/Agent.astro";
import Header from "../components/Header.astro";
---

<Layout>
  <main>
    <div class="max-w-[1000px] mx-auto grid px-4 lg:px-0 gap-12 lg:gap-24">
      <section class="relative w-full grid gap-8 mx-auto py-4 lg:py-8">
        <Header />
        <img
          src={bg1.src}
          alt={`OkAgents logo`}
          class="absolute z-1 right-0 bottom-0 h-96 fade-in-up-3 opacity-10 lg:opacity-50"
          loading="lazy"
        />
        <div
          class="z-50 grid gap-4 lg:gap-8 max-w-[800px] w-full text-center lg:text-left"
        >
          <div
            class="flex items-center justify-center lg:justify-start text-center gap-4 fade-in-up"
          >
            <img class="h-8 lg:h-12" src="15588.png" alt="" />
            <p class="text-neutral-500 text-sm">
              #1 Directory to <span class="font-bold"> find <br />& rank</span>
              best AI Agents
            </p>
            <img
              src="15588.png"
              alt=""
              class="transform scale-x-[-1] h-8 lg:h-12"
            />
          </div>
          <h1
            class="cal-sans text-[32px] lg:text-[56px] fade-in-up-2"
            style={{
              lineHeight: 1.2,
            }}
          >
            Discover the best AI agents. <br />Before everyone else.
          </h1>
          <p
            class="text-neutral-500 text-base lg:text-[20px] fade-in-up-2 max-w-[500px]"
          >
            OkAgents finds the best AI agents every week â€” and lets you vote to
            highlight the top performers.
          </p>
          <div class="lg:flex fade-in-up-2">
            <a
              href="https://tally.so/r/GxxWeZ"
              target="_blank"
              class="bg-gradient-to-r text-white visited:text-white from-happy-600 to-happy-700/25 hover:to-happy-700 duration-300 transition p-1 cursor-pointer group"
            >
              <div class="bg-black px-4 py-2 flex items-center gap-2">
                <Plus
                  size="20"
                  class="text-happy-600 transition duration-200 group-hover:text-white"
                />
                <span class="font-[600]">New Launch</span>
              </div>
            </a>
          </div>
        </div>
      </section>
      <section class="grid lg:grid-cols-12 gap-8 mx-auto py-4 lg:py-8">
        <div class="grid gap-2 lg:col-span-8 order-2 lg:order-1 content-start">
          {
            agents
              .sort((a, b) => b.likes_count - a.likes_count)
              .map((agent) => <Agent {...agent} />)
          }
        </div>
        <div class="lg:col-span-4 order-1 lg:order-2 grid gap-12 content-start">
          <div class="grid gap-4">
            <h4 class="font-[600]">Discover</h4>
            {
              agents
                ?.filter((a: any) => a.is_discover === true)
                .map((agent) => <Agent {...agent} />)
            }
          </div>
          <div class="grid gap-4">
            <h4 class="font-[600]">Featured</h4>
            {
              agents
                ?.filter((a: any) => a.is_featured === true)
                .map((agent) => <Agent {...agent} small />)
            }
          </div>
        </div>
      </section>
    </div>
  </main>
</Layout>
